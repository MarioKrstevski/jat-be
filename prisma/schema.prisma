// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model Company {
  id             String           @id @default(uuid())
  name           String           @unique
  description    String           @default("")
  companyInfo    String           @default("") // Company website, location, size, etc
  logo           String           @default("")
  website        String           @default("")
  createdAt      DateTime         @default(now())
  updatedAt      DateTime         @updatedAt
  JobApplication JobApplication[]
}

model JobApplication {
  userId             String
  id                 String   @id @default(uuid())
  isArchived         Boolean  @default(false)
  isRemote           Boolean  @default(false)
  wasReffered        Boolean  @default(false)
  refferedBy         String   @default("")
  companyId          String?
  companyName        String
  company            Company? @relation(fields: [companyId], references: [id])
  companyInfo        String   @default("") // Company website, location, size, etc
  jobPositionTitle   String
  link               String   @default("") // Link to the job posting
  adText             String   @db.LongText // Ad text or description
  status             String   @default("") // Applied, Interview, Offer, Rejected or the other statusOptions
  waitingFor         String   @default("") // The next step in the process (next status)
  timeline           String   @default("") // Comma separated list of Status + Date, that we will use to create a timeline
  statusOptions      String   @default("Wishlist,Applied,OA - Online Assessment,Waiting Referral,No Response,Ghosted,Phone Screen,Coding Challenge,Take-Home Assignment,Onsite,Behavioral,Interview,Offer,Rejected,Accepted,Archived") @db.VarChar(450) // Comma separated list of options
  resumeUsed         String   @default("") // Resume name or link to resume
  motivationalLetter String   @default("") // Motvational letter or cover letter, or link to document
  notes              String   @db.LongText // rich text editor experience, used for interview feedback and anything else
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
  nextInterviewDate  DateTime
  salaryDetails      String   @default("") // Salary details or negotiation-related information
  appliedFrom        String   @default("") //where did you apply for the job (linkedin, email, etc or specific link for applying)
  heardAboutFrom     String   @default("")
  mapLocation        String   @default("") // Map location of the company lng,lat values
  todos              String   @default("") // List follow-up actions or tasks related to the application as reminder

  @@index([companyId])
}
